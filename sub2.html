<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ONSIDE - Marketing Solutions</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* 섹션 간 겹침 방지를 위한 핵심 스타일 추가 */
        .scroll-section, .pin-section {
            position: relative;
            width: 100%;
            background-color: #000;
            overflow: hidden;
        }
        /* 궤도 섹션과 카드 섹션이 겹치지 않게 우선순위 부여 */
        .scroll-section { z-index: 1; }
        .pin-section { z-index: 2; }
    </style>
</head>

<body class="sub2">
    <header>
        <h1><a href="/index.html"><img src="images/logo.png" alt="로고"></a></h1>
        <nav>
            <ul class="gnb">
                <li><a href="#"><span>ABOUT</span></a></li>
                <li><a href="#"><span>EXPERTISE</span></a></li>
                <li><a href="#"><span>CASE</span></a></li>
                <li><a href="#"><span>NEWS</span></a></li>
                <li><a href="#">CONTACT</a></li>
            </ul>
        </nav>
        <div class="hd_btn">
            <div class="lang">KR</div>
            <div class="search"><img src="images/Search.png" alt="검색"></div>
        </div>
    </header>

    <section class="section1">
        <h2>
            <span>B</span><span>E</span><span>S</span><span>T</span><span>&nbsp;</span><span>M</span><span>A</span><span>R</span><span>K</span><span>E</span><span>T</span><span>I</span><span>N</span><span>G</span><span>&nbsp;</span><span>P</span><span>A</span><span>R</span><span>T</span><span>N</span><span>E</span><span>R</span><span>S</span>
        </h2>
    </section>

     <section class="scroll-section">
    <div class="sticky-wrapper">
        <div class="text-top">
            <p class="pain-point">Pain Point</p>
            <h2>브랜드 성장을 가로막는 마케팅 고민이 있으신가요?</h2>
        </div>



        <div class="orbit-container">
            <div class="circle-orbit">
                <div class="step step1 active">
                    <p>트렌드에 맞춘 콘텐츠 기획과 퍼포먼스 관리,<br>한정된 예산과 리소스로 부담스럽지 않으셨나요?</p>
                    <span class="case-num">case01</span>
                </div>
                <div class="step step2">
                    <p>채널별 파편화된 데이터와 낮아지는 전환율,<br>명확한 해결책을 찾고 계신가요?</p>
                    <span class="case-num">case02</span>
                </div>
                <div class="step step3">
                    <p>타겟 고객의 마음을 사로잡을 브랜딩과<br>폭발적인 매출 성장이 필요하신가요?</p>
                    <span class="case-num">case03</span>
                </div>
            </div>
        </div>
    </div>
</section>

    <section class="pin-section" id="featureSection">
        <div class="content-wrapper">
            <div class="text-area">
                <div class="text-content">
                    <p class="sub-title">Our Key Features</p>
                    <h2 class="main-title">
                        데이터 분석부터 퍼포먼스 극대화까지,<br>
                        성공적인 브랜드 스케일업을 위한<br>
                        온사이드만의 핵심 솔루션을 소개합니다.
                    </h2>
                </div>
            </div>

            <div class="cards-area">
                <div class="cards-track">
                    <div class="card">
                        <div class="card-icon">🎯</div>
                        <h3>정교한 타겟팅</h3>
                        <p>데이터 기반의 치밀한 오디언스 분석으로 핵심 타겟에게 브랜드 메시지를 정확히 도달시킵니다.</p>
                    </div>
                    <div class="card">
                        <div class="card-icon">📈</div>
                        <h3>데이터 퍼포먼스</h3>
                        <p>실시간 광고 효율을 모니터링하고 ROAS를 극대화하는 최적의 매체 운영을 지원합니다.</p>
                    </div>
                    <div class="card">
                        <div class="card-icon">💡</div>
                        <h3>크리에이티브 기획</h3>
                        <p>소비자의 시선을 사로잡는 차별화된 콘텐츠와 임팩트 있는 캠페인을 기획하고 제작합니다.</p>
                    </div>
                    <div class="card">
                        <div class="card-icon">🚀</div>
                        <h3>풀퍼널 마케팅</h3>
                        <p>브랜드 인지부터 구매, 재구매까지 이어지는 고객 여정 전반의 전환율을 획기적으로 개선합니다.</p>
                    </div>
                    <div class="card">
                        <div class="card-icon">🔗</div>
                        <h3>통합 미디어 믹스</h3>
                        <p>다양한 온·오프라인 매체를 유기적으로 연결하여 마케팅 캠페인의 시너지를 극대화합니다.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
<footer>
    <div class="footer-top">
        <div class="contact-area">
            <h2>CONTACT US</h2>
            <a href="#" class="signup-btn">SIGN UP</a>
        </div>
        
        <div class="info-area">
            <p>
                법인명 : 주식회사 에이치에스파트너스 대표자 성명 : 김인국<br>
                사업자 등록번호 : 863-81-02421 [사업자 정보 확인]<br>
                통신 판매업신고번호 : 제 2023-서울강남-04470 호 신고번호<br>
                사업장 주소 : 서울특별시 강남구 영동대로 630, 2층(삼성동, 하이브랜치 타워)<br>
                개인정보 보호 책임자 : 김인국 (info@on-side.co.kr)<br>
                주문자 계좌 : 하나은행 225-910085-30004<br>
                채권주 : 주식회사 에이치에스파트너스<br><br>
                <span class="copyright">Copyright © ONSIDE Inc. All rights reserved.</span>
            </p>
        </div>
    </div>

    <div class="footer-bottom">
        <h1 class="huge-logo">ONSIDE</h1>
    </div>
</footer>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

    <script>
        gsap.registerPlugin(ScrollTrigger);

        // 0. Intro Animation
        gsap.to(".section1 h2 span", {
            y: 0, opacity: 1, duration: 1, stagger: 0.02, ease: "back.out(1.7)"
        });


   gsap.registerPlugin(ScrollTrigger);

/* =========================================
   [1] Pain Point (궤도 회전) - 고정 기능 추가
   ========================================= */
const orbitTl = gsap.timeline({
    scrollTrigger: {
        trigger: ".scroll-section",
        start: "top top",
        end: "+=2000", // 애니메이션 길이를 늘려 여유를 줌
        scrub: 1,
        pin: true, // CASE 03까지 화면 고정 핵심!
    }
});

if(document.querySelector('.step1')) {
    document.querySelector('.step1').classList.add('active');
}

orbitTl.to(".circle-orbit", { rotate: -90, duration: 1 })
    .to(".step1", { opacity: 0, filter: "blur(10px)", duration: 0.5 }, "<")
    .to(".step2", { 
        opacity: 1, filter: "blur(0px)", duration: 0.5,
        onUpdate: () => {
            document.querySelector('.step1').classList.remove('active');
            document.querySelector('.step2').classList.add('active');
        }
    }, "<")
    .to(".circle-orbit", { rotate: -180, duration: 1 }, "+=0.5")
    .to(".step2", { opacity: 0, filter: "blur(10px)", duration: 0.5 }, "<")
    .to(".step3", { 
        opacity: 1, filter: "blur(0px)", duration: 0.5,
        onUpdate: () => {
            document.querySelector('.step2').classList.remove('active');
            document.querySelector('.step3').classList.add('active');
        }
    }, "<")
    .to({}, {duration: 0.5}); // 마지막 case03에서 잠시 멈춤 유지


gsap.registerPlugin(ScrollTrigger);

// ====== 이 위쪽 코드(orbitTl 등)는 절대 건드리지 말고 그대로 두세요! ======

const section = document.querySelector('#featureSection');
const textArea = document.querySelector('.sub2 .text-area');
const mainTitle = document.querySelector('.sub2 .main-title');
const cardsArea = document.querySelector('.sub2 .cards-area');
const cardsTrack = document.querySelector('.sub2 .cards-track');

// ▼ 여기서부터 교체 ▼
// 화면 크기를 인식해서 PC에서만 가로 스크롤을 작동시키고 모바일에서는 끄는 방어막 추가!
let mm = gsap.matchMedia();

mm.add("(min-width: 769px)", () => {
    const tl = gsap.timeline({
        scrollTrigger: {
            trigger: section,
            start: "top 10%",
            end: "+=3000",
            scrub: 1.5,
            pin: true,
            anticipatePin: 1
        }
    });

    tl.addLabel("start");

    tl.to(textArea, { xPercent: -30, duration: 1.5, ease: "power2.inOut" }, "start");
    tl.to(textArea, { scale: 0.7, duration: 1.5, ease: "power2.inOut", force3D: true }, "start");
    tl.to(cardsArea, { opacity: 1, x: "-100%", duration: 1.5, ease: "power2.inOut" }, "start");
    tl.to(cardsTrack, { x: () => -(cardsTrack.scrollWidth - window.innerWidth * 0.5), ease: "none", duration: 4 });
    tl.to(cardsArea, { opacity: 1, right: "0%", zIndex: 1, duration: 1.5, ease: "power2.inOut" }, "start");
    tl.to(cardsTrack, { x: () => -(cardsTrack.scrollWidth - window.innerWidth * 0.5), ease: "none", duration: 4 });

    // 모바일(768px 이하)로 화면이 줄어들면, 왼쪽으로 치우치게 만들던 속성들을 깨끗하게 청소!
    return () => {
        gsap.set([textArea, cardsArea, cardsTrack], { clearProps: "all" });
    };
});
// ▲ 여기까지 교체 완료 ▲
/* 앞부분 코드는 그대로 두세요 */
orbitTl.to(".circle-orbit", { rotate: -90, duration: 1 })
    .to(".step1", { opacity: 0, filter: "blur(10px)", duration: 0.5 }, "<")
    .to(".step2", { 
        opacity: 1, filter: "blur(0px)", duration: 0.5,
        onUpdate: () => {
            document.querySelector('.step1').classList.remove('active');
            document.querySelector('.step2').classList.add('active');
        }
    }, "<")
    .to(".circle-orbit", { rotate: -180, duration: 1 }, "+=0.5")
    .to(".step2", { opacity: 0, filter: "blur(10px)", duration: 0.5 }, "<")
    .to(".step3", { 
        opacity: 1, filter: "blur(0px)", duration: 0.5,
        onUpdate: () => {
            document.querySelector('.step2').classList.remove('active');
            document.querySelector('.step3').classList.add('active');
        }
    }, "<")
    .to({}, {duration: 0.5}) // 원래 있던 마지막 코드
    .to(".sticky-wrapper", { opacity: 0, duration: 0.5 }); // 👈 이 한 줄을 맨 마지막에 추가하세요!!
</script>
</body>
</html>